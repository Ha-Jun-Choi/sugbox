<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />

    <meta name="description" content="마음의 소리함 - 중고등학생을 위한 온라인 건의함 서비스" />

    <!-- ✅ CSP: widget.cloudinary.com 기반으로 통일 + *-elem 지시어 명시 -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' https://widget.cloudinary.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com 'unsafe-inline';
      script-src-elem 'self' https://widget.cloudinary.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com 'unsafe-inline';
      connect-src 'self' https://api.cloudinary.com https://res.cloudinary.com;
      img-src 'self' data: blob: https://res.cloudinary.com https://cdn.jsdelivr.net;
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net;
      style-src-elem 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net;
      font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net data:;
      frame-src 'self' https://widget.cloudinary.com;
      media-src 'self' data: blob:;
      object-src 'none';
      upgrade-insecure-requests;
    " />

    <!-- PWA -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <!-- 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />

    <title>마음의 소리함</title>
  </head>
  <body>
    <noscript>이 앱을 실행하려면 JavaScript가 필요합니다.</noscript>
    <div id="root"></div>

    <!-- ✅ Cloudinary Upload Widget (방법 A: widget.cloudinary.com 사용) -->
    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>
    <!-- React 빌드 후 JS 번들은 CRA가 자동 삽입 -->
  </body>
</html>

